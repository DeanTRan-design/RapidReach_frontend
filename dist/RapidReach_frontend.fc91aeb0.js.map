{"mappings":"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","sources":["<anon>","main.js","node_modules/@parcel/runtime-js/lib/runtime-7a307f248604e162.js"],"sourcesContent":["\nvar $7d002f72ac2b3d30$exports = {};\n$7d002f72ac2b3d30$exports = import.meta.resolve(\"4Cm2X\");\n\n\nconst $efd3ba4ec2608b1d$var$logoUrl = new URL($7d002f72ac2b3d30$exports).href;\nconsole.log(\"Logo path:\", $efd3ba4ec2608b1d$var$logoUrl);\n// Helper function to decode JWT\nfunction $efd3ba4ec2608b1d$var$parseJwt(token) {\n    try {\n        return JSON.parse(atob(token.split('.')[1]));\n    } catch (e) {\n        return {};\n    }\n}\nfunction $efd3ba4ec2608b1d$var$loadView(view) {\n    const root = document.getElementById(\"root\");\n    if (view === \"signin\") {\n        root.innerHTML = `\n      <div class=\"logo-wrapper\">\n        <img src=\"${$efd3ba4ec2608b1d$var$logoUrl}\" alt=\"RapidReach Logo\" class=\"logo-top-right\" />\n      </div>\n      <h2>Sign In</h2>\n      <sl-input label=\"Email\" type=\"email\" id=\"email\" required></sl-input>\n      <br><br>\n      <sl-input label=\"Password\" type=\"password\" id=\"password\" required></sl-input>\n      <sl-button variant=\"success\" size=\"large\" id=\"signin-btn\">Sign In</sl-button>\n      <br><br>\n      <p style=\"margin-top: 1rem;\">Don't have an account? <a href=\"#signup\" style=\"color: var(--sl-color-primary-600);\">Sign up</a></p>\n    `;\n        setTimeout(()=>{\n            const btn = document.getElementById(\"signin-btn\");\n            btn.addEventListener(\"click\", async ()=>{\n                const email = document.getElementById(\"email\").value.trim();\n                const password = document.getElementById(\"password\").value.trim();\n                btn.innerHTML = `<sl-spinner></sl-spinner> Signing in...`;\n                btn.disabled = true;\n                const response = await fetch(\"https://rapidreach-backend-guki.onrender.com/auth/signin\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        email: email,\n                        password: password\n                    })\n                });\n                const result = await response.json();\n                if (response.ok) {\n                    localStorage.setItem(\"token\", result.accessToken);\n                    window.location.hash = \"home\";\n                } else alert(result.message || \"Login failed\");\n            });\n        }, 0);\n    } else if (view === \"signup\") {\n        root.innerHTML = `\n      <h2>Please Provide Us Your Info</h2>\n      <br><br>\n      <sl-input label=\"First Name\" id=\"firstName\" required></sl-input>\n      <br><br>\n      <sl-input label=\"Last Name\" id=\"lastName\" required></sl-input>\n      <br><br>\n      <sl-input label=\"Date of Birth\" id=\"dob\" type=\"date\" required></sl-input>\n      <br><br>\n      <sl-input label=\"City/Suburb\" id=\"city\" required></sl-input>\n      <br><br>\n      <sl-input label=\"Email\" id=\"email\" type=\"email\" required></sl-input>\n      <br><br>\n      <sl-select label=\"You are registering as\" id=\"accessLevel\" required>\n        <sl-option value=\"1\">Patient</sl-option>\n        <sl-option value=\"2\">Responder</sl-option>\n      </sl-select>\n      <br><br>\n      <sl-input label=\"Password\" id=\"password\" type=\"password\" required></sl-input>\n      <br><br>\n      <sl-input label=\"Confirm Password\" id=\"confirmPassword\" type=\"password\" required></sl-input>\n      <sl-button id=\"register-btn\" variant=\"success\" size=\"large\">Submit</sl-button>\n      <br><br>\n      <p style=\"margin-top: 1rem;\">\n      Already have an account?\n      <a href=\"#signin\" style=\"color: var(--sl-color-primary-600);\">Sign in</a>\n      </p>\n    `;\n        setTimeout(()=>{\n            document.getElementById(\"back-to-signin\").addEventListener(\"click\", ()=>{\n                window.location.hash = \"signin\";\n            });\n            document.getElementById(\"register-btn\").addEventListener(\"click\", async ()=>{\n                const firstName = document.getElementById(\"firstName\").value.trim();\n                const lastName = document.getElementById(\"lastName\").value.trim();\n                const dob = document.getElementById(\"dob\").value;\n                const city = document.getElementById(\"city\").value.trim();\n                const email = document.getElementById(\"email\").value.trim();\n                const accessLevel = parseInt(document.getElementById(\"accessLevel\").value);\n                const password = document.getElementById(\"password\").value;\n                const confirmPassword = document.getElementById(\"confirmPassword\").value;\n                if (!firstName || !lastName || !dob || !city || !email || !accessLevel || !password || !confirmPassword) {\n                    alert(\"Please fill in all fields.\");\n                    return;\n                }\n                if (password !== confirmPassword) {\n                    alert(\"Passwords do not match.\");\n                    return;\n                }\n                const response = await fetch(\"https://rapidreach-backend-guki.onrender.com/user\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        firstName: firstName,\n                        lastName: lastName,\n                        dob: dob,\n                        city: city,\n                        email: email,\n                        accessLevel: accessLevel,\n                        password: password\n                    })\n                });\n                const result = await response.json();\n                if (response.ok) {\n                    alert(\"Account created! Please sign in.\");\n                    window.location.hash = \"signin\";\n                } else alert(result.message || \"Failed to register\");\n            });\n        }, 0);\n    } else if (view === \"home\") {\n        const user = $efd3ba4ec2608b1d$var$parseJwt(localStorage.getItem(\"token\"));\n        root.innerHTML = `\n     <h2>Welcome back, <strong>${user.firstName || user.email}</strong>!</h2>\n     <p>You are logged in as <strong>${user.accessLevel === 2 ? \"Responder\" : \"Patient\"}</strong>.</p>\n\n     <sl-button id=\"go-report\" variant=\"success\">Make Emergency Report</sl-button>\n     <sl-button id=\"go-myreports\" variant=\"neutral\">View My Reports</sl-button>\n     ${user.accessLevel === 2 ? '<sl-button id=\"go-allreports\" variant=\"primary\">View All Reports</sl-button>' : ''}\n     <br /><br />\n     <sl-button id=\"logout-btn\" variant=\"danger\">Sign Out</sl-button>\n    `;\n        setTimeout(()=>{\n            document.getElementById(\"go-report\").addEventListener(\"click\", ()=>window.location.hash = \"report\");\n            document.getElementById(\"go-myreports\").addEventListener(\"click\", ()=>window.location.hash = \"myreports\");\n            if (user.accessLevel === 2) document.getElementById(\"go-allreports\").addEventListener(\"click\", ()=>{\n                window.location.hash = \"allreports\";\n            });\n            document.getElementById(\"logout-btn\").addEventListener(\"click\", ()=>{\n                localStorage.removeItem(\"token\");\n                window.location.hash = \"signin\";\n            });\n        }, 0);\n    } else if (view === \"report\") {\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n            alert(\"You must be logged in to report an emergency.\");\n            window.location.hash = \"signin\";\n            return;\n        }\n        root.innerHTML = `\n    <sl-alert id=\"form-alert\" variant=\"danger\" open style=\"display:none;\">\n    <sl-icon slot=\"icon\" name=\"exclamation-triangle\"></sl-icon>\n    <strong>Error:</strong> Please fill in all fields.\n    </sl-alert>\n    <h2>Emergency Report</h2>\n    <sl-input label=\"Location\" id=\"location\" required></sl-input>\n    <sl-select label=\"Category\" id=\"category\" required>\n      <sl-option value=\"fire\">Fire</sl-option>\n      <sl-option value=\"medical\">Medical</sl-option>\n      <sl-option value=\"police\">Police</sl-option>\n    </sl-select>\n    <sl-textarea label=\"Message\" id=\"message\" rows=\"3\" required></sl-textarea>\n    <sl-button variant=\"danger\" id=\"submit-report\">Submit Emergency Report</sl-button>\n    <sl-button id=\"go-home\" variant=\"success\">Back to Home</sl-button>\n  `;\n        setTimeout(()=>{\n            document.getElementById(\"go-home\").addEventListener(\"click\", ()=>{\n                window.location.hash = \"home\";\n            });\n            document.getElementById(\"submit-report\").addEventListener(\"click\", async ()=>{\n                const location1 = document.getElementById(\"location\").value;\n                const category = document.getElementById(\"category\").value;\n                const message = document.getElementById(\"message\").value;\n                const token = localStorage.getItem(\"token\");\n                // Reset previous styles\n                [\n                    \"location\",\n                    \"category\",\n                    \"message\"\n                ].forEach((id)=>{\n                    document.getElementById(id).classList.remove(\"input-error\");\n                });\n                document.getElementById(\"form-alert\").style.display = \"none\";\n                // Validate\n                if (!location1 || !message || !category) {\n                    if (!location1) document.getElementById(\"location\").classList.add(\"input-error\");\n                    if (!category) document.getElementById(\"category\").classList.add(\"input-error\");\n                    if (!message) document.getElementById(\"message\").classList.add(\"input-error\");\n                    const alertBox = document.getElementById(\"form-alert\");\n                    alertBox.innerHTML = `\n          <sl-icon slot=\"icon\" name=\"exclamation-triangle\"></sl-icon>\n          <strong>Error:</strong> Please fill in all fields.\n        `;\n                    alertBox.style.display = \"block\";\n                    return;\n                }\n                const submitBtn = document.getElementById(\"submit-report\");\n                submitBtn.innerHTML = `<sl-spinner></sl-spinner> Sending...`;\n                submitBtn.disabled = true;\n                const response = await fetch(\"https://rapidreach-backend-guki.onrender.com/report\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        \"Authorization\": `Bearer ${token}`\n                    },\n                    body: JSON.stringify({\n                        location: location1,\n                        category: category,\n                        message: message\n                    })\n                });\n                // Show success screen\n                if (response.ok) {\n                    root.innerHTML = `\n          <h2>Report Submitted</h2>\n          <p>Thanks! Your emergency report has been successfully sent.</p>\n          <sl-button variant=\"primary\" id=\"go-home\">Back to Home</sl-button>\n        `;\n                    setTimeout(()=>{\n                        document.getElementById(\"go-home\").addEventListener(\"click\", ()=>{\n                            window.location.hash = \"home\";\n                        });\n                    }, 0);\n                } else {\n                    const result = await response.json();\n                    alert(result.message || \"Failed to send report\");\n                    // Reset button if error\n                    submitBtn.innerHTML = \"Submit Emergency Report\";\n                    submitBtn.disabled = false;\n                }\n            });\n        }, 0);\n    } else if (view === \"myreports\") {\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n            alert(\"You must be logged in to view your reports.\");\n            window.location.hash = \"signin\";\n            return;\n        }\n        root.innerHTML = `<h2>My Reports</h2><div id=\"report-list\">Loading...</div>`;\n        fetch(\"https://rapidreach-backend-guki.onrender.com/report\", {\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        }).then((res)=>res.json()).then((data)=>{\n            const container = document.getElementById(\"report-list\");\n            if (Array.isArray(data) && data.length > 0) container.innerHTML = data.map((r)=>`\n          <sl-card class=\"mb-3\">\n            <strong>${r.category.toUpperCase()}</strong> - ${r.location}<br/>\n            <small>${new Date(r.createdAt).toLocaleString()}</small><br/>\n            <p>${r.message}</p>\n          </sl-card>\n        `).join(\"\");\n            else container.innerHTML = \"<p>No reports found.</p>\";\n        }).catch((err)=>{\n            document.getElementById(\"report-list\").innerHTML = \"Error loading reports.\";\n            console.error(\"Report load error:\", err);\n        });\n    } else if (view === \"allreports\") {\n        const token = localStorage.getItem(\"token\");\n        const user = $efd3ba4ec2608b1d$var$parseJwt(token);\n        root.innerHTML = `\n    <h2>All Emergency Reports</h2>\n    <div id=\"report-list\">Loading...</div>\n    <sl-button id=\"go-home\" variant=\"success\">Back to Home</sl-button>\n  `;\n        setTimeout(()=>{\n            document.getElementById(\"go-home\").addEventListener(\"click\", ()=>{\n                window.location.hash = \"home\";\n            });\n            fetch(\"https://rapidreach-backend-guki.onrender.com/report/all\", {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            }).then((res)=>res.json()).then((data)=>{\n                const container = document.getElementById(\"report-list\");\n                if (!Array.isArray(data)) {\n                    container.innerHTML = \"No reports available.\";\n                    return;\n                }\n                container.innerHTML = data.map((report)=>`\n            <sl-card class=\"report-card\">\n              <strong>Category:</strong> ${report.category}<br/>\n              <strong>Location:</strong> ${report.location}<br/>\n              <strong>Message:</strong> ${report.message}<br/>\n              <small>Submitted on: ${new Date(report.createdAt).toLocaleString()}</small><br/>\n              <small>Submitted by: ${report.userId?.firstName || report.userId?.email}</small><br/>\n              <sl-button variant=\"danger\" size=\"small\" data-id=\"${report._id}\" class=\"delete-report\">Delete</sl-button>\n            </sl-card><br/>\n          `).join(\"\");\n                // Add delete functionality\n                document.querySelectorAll(\".delete-report\").forEach((button)=>{\n                    button.addEventListener(\"click\", async ()=>{\n                        const reportId = button.getAttribute(\"data-id\");\n                        const confirmed = confirm(\"Are you sure you want to delete this report?\");\n                        if (!confirmed) return;\n                        const res = await fetch(`https://rapidreach-backend-guki.onrender.com/report/${reportId}`, {\n                            method: \"DELETE\",\n                            headers: {\n                                Authorization: `Bearer ${token}`\n                            }\n                        });\n                        if (res.ok) {\n                            alert(\"Report deleted.\");\n                            window.location.reload(); // Refresh the list\n                        } else alert(\"Failed to delete the report.\");\n                    });\n                });\n            }).catch((err)=>{\n                console.error(\"Error loading all reports\", err);\n                document.getElementById(\"report-list\").innerHTML = \"Error loading reports.\";\n            });\n        }, 0);\n    } else root.innerHTML = `<h2>404 - Page not found</h2>`;\n}\n// Handle hash-based routing\nwindow.addEventListener(\"hashchange\", ()=>{\n    const view = location.hash.replace(\"#\", \"\");\n    $efd3ba4ec2608b1d$var$loadView(view);\n});\n// Load initial view\n$efd3ba4ec2608b1d$var$loadView(location.hash.replace(\"#\", \"\") || \"signin\");\n// Redirect if already logged in\nif (localStorage.getItem(\"token\") && location.hash === \"#signin\") location.hash = \"home\";\nwindow.parseJwt = $efd3ba4ec2608b1d$var$parseJwt;\n\n\n//# sourceMappingURL=RapidReach_frontend.fc91aeb0.js.map\n","import \"./main.scss\";\r\nconst logoUrl = new URL('./images/logo.png', import.meta.url).href;\r\nconsole.log(\"Logo path:\", logoUrl);\r\n// Helper function to decode JWT\r\nfunction parseJwt(token) {\r\n  try {\r\n    return JSON.parse(atob(token.split('.')[1]));\r\n  } catch (e) {\r\n    return {};\r\n  }\r\n}\r\n\r\nfunction loadView(view) {\r\n  const root = document.getElementById(\"root\");\r\n\r\n  if (view === \"signin\") {\r\n    root.innerHTML = `\r\n      <div class=\"logo-wrapper\">\r\n        <img src=\"${logoUrl}\" alt=\"RapidReach Logo\" class=\"logo-top-right\" />\r\n      </div>\r\n      <h2>Sign In</h2>\r\n      <sl-input label=\"Email\" type=\"email\" id=\"email\" required></sl-input>\r\n      <br><br>\r\n      <sl-input label=\"Password\" type=\"password\" id=\"password\" required></sl-input>\r\n      <sl-button variant=\"success\" size=\"large\" id=\"signin-btn\">Sign In</sl-button>\r\n      <br><br>\r\n      <p style=\"margin-top: 1rem;\">Don't have an account? <a href=\"#signup\" style=\"color: var(--sl-color-primary-600);\">Sign up</a></p>\r\n    `;\r\n    setTimeout(() => {\r\n    const btn = document.getElementById(\"signin-btn\");\r\n    btn.addEventListener(\"click\", async () => {\r\n      const email = document.getElementById(\"email\").value.trim();\r\n      const password = document.getElementById(\"password\").value.trim();\r\n\r\n      btn.innerHTML = `<sl-spinner></sl-spinner> Signing in...`;\r\n      btn.disabled = true;\r\n\r\n      const response = await fetch(\"https://rapidreach-backend-guki.onrender.com/auth/signin\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email, password })\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok) {\r\n        localStorage.setItem(\"token\", result.accessToken);\r\n        window.location.hash = \"home\";\r\n      } else {\r\n        alert(result.message || \"Login failed\");\r\n      }\r\n      });\r\n    }, 0);\r\n  } else if (view === \"signup\") {\r\n    root.innerHTML = `\r\n      <h2>Please Provide Us Your Info</h2>\r\n      <br><br>\r\n      <sl-input label=\"First Name\" id=\"firstName\" required></sl-input>\r\n      <br><br>\r\n      <sl-input label=\"Last Name\" id=\"lastName\" required></sl-input>\r\n      <br><br>\r\n      <sl-input label=\"Date of Birth\" id=\"dob\" type=\"date\" required></sl-input>\r\n      <br><br>\r\n      <sl-input label=\"City/Suburb\" id=\"city\" required></sl-input>\r\n      <br><br>\r\n      <sl-input label=\"Email\" id=\"email\" type=\"email\" required></sl-input>\r\n      <br><br>\r\n      <sl-select label=\"You are registering as\" id=\"accessLevel\" required>\r\n        <sl-option value=\"1\">Patient</sl-option>\r\n        <sl-option value=\"2\">Responder</sl-option>\r\n      </sl-select>\r\n      <br><br>\r\n      <sl-input label=\"Password\" id=\"password\" type=\"password\" required></sl-input>\r\n      <br><br>\r\n      <sl-input label=\"Confirm Password\" id=\"confirmPassword\" type=\"password\" required></sl-input>\r\n      <sl-button id=\"register-btn\" variant=\"success\" size=\"large\">Submit</sl-button>\r\n      <br><br>\r\n      <p style=\"margin-top: 1rem;\">\r\n      Already have an account?\r\n      <a href=\"#signin\" style=\"color: var(--sl-color-primary-600);\">Sign in</a>\r\n      </p>\r\n    `;\r\n\r\n    setTimeout(() => {\r\n      document.getElementById(\"back-to-signin\").addEventListener(\"click\", () => {\r\n        window.location.hash = \"signin\";\r\n      });\r\n\r\n      document.getElementById(\"register-btn\").addEventListener(\"click\", async () => {\r\n        const firstName = document.getElementById(\"firstName\").value.trim();\r\n        const lastName = document.getElementById(\"lastName\").value.trim();\r\n        const dob = document.getElementById(\"dob\").value;\r\n        const city = document.getElementById(\"city\").value.trim();\r\n        const email = document.getElementById(\"email\").value.trim();\r\n        const accessLevel = parseInt(document.getElementById(\"accessLevel\").value);\r\n        const password = document.getElementById(\"password\").value;\r\n        const confirmPassword = document.getElementById(\"confirmPassword\").value;\r\n\r\n        if (!firstName || !lastName || !dob || !city || !email || !accessLevel || !password || !confirmPassword) {\r\n          alert(\"Please fill in all fields.\");\r\n          return;\r\n        }\r\n\r\n        if (password !== confirmPassword) {\r\n          alert(\"Passwords do not match.\");\r\n          return;\r\n        }\r\n\r\n        const response = await fetch(\"https://rapidreach-backend-guki.onrender.com/user\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            firstName,\r\n            lastName,\r\n            dob,\r\n            city,\r\n            email,\r\n            accessLevel,\r\n            password\r\n          })\r\n        });\r\n\r\n        const result = await response.json();\r\n\r\n        if (response.ok) {\r\n          alert(\"Account created! Please sign in.\");\r\n          window.location.hash = \"signin\";\r\n        } else {\r\n          alert(result.message || \"Failed to register\");\r\n        }\r\n      });\r\n    }, 0);\r\n} else if (view === \"home\") {\r\n    const user = parseJwt(localStorage.getItem(\"token\"));\r\n    \r\n    root.innerHTML = `\r\n     <h2>Welcome back, <strong>${user.firstName || user.email}</strong>!</h2>\r\n     <p>You are logged in as <strong>${user.accessLevel === 2 ? \"Responder\" : \"Patient\"}</strong>.</p>\r\n\r\n     <sl-button id=\"go-report\" variant=\"success\">Make Emergency Report</sl-button>\r\n     <sl-button id=\"go-myreports\" variant=\"neutral\">View My Reports</sl-button>\r\n     ${user.accessLevel === 2 ? '<sl-button id=\"go-allreports\" variant=\"primary\">View All Reports</sl-button>' : ''}\r\n     <br /><br />\r\n     <sl-button id=\"logout-btn\" variant=\"danger\">Sign Out</sl-button>\r\n    `;\r\n\r\n\r\n    setTimeout(() => {\r\n      document.getElementById(\"go-report\").addEventListener(\"click\", () => window.location.hash = \"report\");\r\n      document.getElementById(\"go-myreports\").addEventListener(\"click\", () => window.location.hash = \"myreports\");\r\n    \r\n      if (user.accessLevel === 2) {\r\n        document.getElementById(\"go-allreports\").addEventListener(\"click\", () => {\r\n          window.location.hash = \"allreports\"; \r\n        });\r\n      }\r\n\r\n    document.getElementById(\"logout-btn\").addEventListener(\"click\", () => {\r\n      localStorage.removeItem(\"token\");\r\n      window.location.hash = \"signin\";\r\n    });\r\n  }, 0);\r\n} else if (view === \"report\") {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (!token) {\r\n    alert(\"You must be logged in to report an emergency.\");\r\n    window.location.hash = \"signin\";\r\n    return;\r\n  }  \r\n  root.innerHTML = `\r\n    <sl-alert id=\"form-alert\" variant=\"danger\" open style=\"display:none;\">\r\n    <sl-icon slot=\"icon\" name=\"exclamation-triangle\"></sl-icon>\r\n    <strong>Error:</strong> Please fill in all fields.\r\n    </sl-alert>\r\n    <h2>Emergency Report</h2>\r\n    <sl-input label=\"Location\" id=\"location\" required></sl-input>\r\n    <sl-select label=\"Category\" id=\"category\" required>\r\n      <sl-option value=\"fire\">Fire</sl-option>\r\n      <sl-option value=\"medical\">Medical</sl-option>\r\n      <sl-option value=\"police\">Police</sl-option>\r\n    </sl-select>\r\n    <sl-textarea label=\"Message\" id=\"message\" rows=\"3\" required></sl-textarea>\r\n    <sl-button variant=\"danger\" id=\"submit-report\">Submit Emergency Report</sl-button>\r\n    <sl-button id=\"go-home\" variant=\"success\">Back to Home</sl-button>\r\n  `;\r\n\r\n  setTimeout(() => {\r\n    document.getElementById(\"go-home\").addEventListener(\"click\", () => {\r\n      window.location.hash = \"home\";\r\n    });\r\n\r\n    document.getElementById(\"submit-report\").addEventListener(\"click\", async () => {\r\n      const location = document.getElementById(\"location\").value;\r\n      const category = document.getElementById(\"category\").value;\r\n      const message = document.getElementById(\"message\").value;\r\n      const token = localStorage.getItem(\"token\");\r\n      // Reset previous styles\r\n      [\"location\", \"category\", \"message\"].forEach(id => {\r\n        document.getElementById(id).classList.remove(\"input-error\");\r\n      });\r\n      document.getElementById(\"form-alert\").style.display = \"none\";\r\n\r\n      // Validate\r\n      if (!location || !message || !category) {\r\n        if (!location) document.getElementById(\"location\").classList.add(\"input-error\");\r\n        if (!category) document.getElementById(\"category\").classList.add(\"input-error\");\r\n        if (!message) document.getElementById(\"message\").classList.add(\"input-error\");\r\n\r\n        const alertBox = document.getElementById(\"form-alert\");\r\n        alertBox.innerHTML = `\r\n          <sl-icon slot=\"icon\" name=\"exclamation-triangle\"></sl-icon>\r\n          <strong>Error:</strong> Please fill in all fields.\r\n        `;\r\n        alertBox.style.display = \"block\";\r\n        return;\r\n      }\r\n      \r\n      const submitBtn = document.getElementById(\"submit-report\");\r\n      submitBtn.innerHTML = `<sl-spinner></sl-spinner> Sending...`;\r\n      submitBtn.disabled = true;\r\n\r\n      const response = await fetch(\"https://rapidreach-backend-guki.onrender.com/report\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Authorization\": `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ location, category, message })\r\n      });\r\n      \r\n      // Show success screen\r\n      if (response.ok) {\r\n        root.innerHTML = `\r\n          <h2>Report Submitted</h2>\r\n          <p>Thanks! Your emergency report has been successfully sent.</p>\r\n          <sl-button variant=\"primary\" id=\"go-home\">Back to Home</sl-button>\r\n        `;\r\n\r\n        setTimeout(() => {\r\n          document.getElementById(\"go-home\").addEventListener(\"click\", () => {\r\n            window.location.hash = \"home\";\r\n          });\r\n        }, 0);\r\n      } else {\r\n        const result = await response.json();\r\n        alert(result.message || \"Failed to send report\");\r\n        // Reset button if error\r\n        submitBtn.innerHTML = \"Submit Emergency Report\";\r\n        submitBtn.disabled = false;\r\n      }\r\n    });\r\n  }, 0);\r\n\r\n} else if (view === \"myreports\") {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (!token) {\r\n    alert(\"You must be logged in to view your reports.\");\r\n    window.location.hash = \"signin\";\r\n    return;\r\n  }\r\n\r\n  root.innerHTML = `<h2>My Reports</h2><div id=\"report-list\">Loading...</div>`;\r\n\r\n  fetch(\"https://rapidreach-backend-guki.onrender.com/report\", {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      const container = document.getElementById(\"report-list\");\r\n      if (Array.isArray(data) && data.length > 0) {\r\n        container.innerHTML = data.map(r => `\r\n          <sl-card class=\"mb-3\">\r\n            <strong>${r.category.toUpperCase()}</strong> - ${r.location}<br/>\r\n            <small>${new Date(r.createdAt).toLocaleString()}</small><br/>\r\n            <p>${r.message}</p>\r\n          </sl-card>\r\n        `).join(\"\");\r\n      } else {\r\n        container.innerHTML = \"<p>No reports found.</p>\";\r\n      }\r\n    })\r\n    .catch(err => {\r\n      document.getElementById(\"report-list\").innerHTML = \"Error loading reports.\";\r\n      console.error(\"Report load error:\", err);\r\n    });\r\n\r\n} else if (view === \"allreports\") {\r\n  const token = localStorage.getItem(\"token\");\r\n  const user = parseJwt(token);\r\n\r\n  root.innerHTML = `\r\n    <h2>All Emergency Reports</h2>\r\n    <div id=\"report-list\">Loading...</div>\r\n    <sl-button id=\"go-home\" variant=\"success\">Back to Home</sl-button>\r\n  `;\r\n\r\n  setTimeout(() => {\r\n    document.getElementById(\"go-home\").addEventListener(\"click\", () => {\r\n      window.location.hash = \"home\";\r\n    });\r\n\r\n    fetch(\"https://rapidreach-backend-guki.onrender.com/report/all\", {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        const container = document.getElementById(\"report-list\");\r\n        if (!Array.isArray(data)) {\r\n          container.innerHTML = \"No reports available.\";\r\n          return;\r\n        }\r\n\r\n        container.innerHTML = data\r\n          .map(report => `\r\n            <sl-card class=\"report-card\">\r\n              <strong>Category:</strong> ${report.category}<br/>\r\n              <strong>Location:</strong> ${report.location}<br/>\r\n              <strong>Message:</strong> ${report.message}<br/>\r\n              <small>Submitted on: ${new Date(report.createdAt).toLocaleString()}</small><br/>\r\n              <small>Submitted by: ${report.userId?.firstName || report.userId?.email}</small><br/>\r\n              <sl-button variant=\"danger\" size=\"small\" data-id=\"${report._id}\" class=\"delete-report\">Delete</sl-button>\r\n            </sl-card><br/>\r\n          `)\r\n          .join(\"\");\r\n\r\n        // Add delete functionality\r\n        document.querySelectorAll(\".delete-report\").forEach(button => {\r\n          button.addEventListener(\"click\", async () => {\r\n            const reportId = button.getAttribute(\"data-id\");\r\n            const confirmed = confirm(\"Are you sure you want to delete this report?\");\r\n            if (!confirmed) return;\r\n\r\n            const res = await fetch(`https://rapidreach-backend-guki.onrender.com/report/${reportId}`, {\r\n              method: \"DELETE\",\r\n              headers: {\r\n                Authorization: `Bearer ${token}`\r\n              }\r\n            });\r\n\r\n            if (res.ok) {\r\n              alert(\"Report deleted.\");\r\n              window.location.reload(); // Refresh the list\r\n            } else {\r\n              alert(\"Failed to delete the report.\");\r\n            }\r\n          });\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.error(\"Error loading all reports\", err);\r\n        document.getElementById(\"report-list\").innerHTML = \"Error loading reports.\";\r\n      });\r\n  }, 0);\r\n\r\n} else {\r\n    root.innerHTML = `<h2>404 - Page not found</h2>`;\r\n  }\r\n}\r\n\r\n// Handle hash-based routing\r\nwindow.addEventListener(\"hashchange\", () => {\r\n  const view = location.hash.replace(\"#\", \"\");\r\n  loadView(view);\r\n});\r\n\r\n// Load initial view\r\nloadView(location.hash.replace(\"#\", \"\") || \"signin\");\r\n\r\n// Redirect if already logged in\r\nif (localStorage.getItem(\"token\") && location.hash === \"#signin\") {\r\n  location.hash = \"home\";\r\n}\r\n\r\nwindow.parseJwt = parseJwt;","module.exports = __parcel__import__.meta.resolve(\"4Cm2X\");"],"names":["$7d002f72ac2b3d30$exports","$efd3ba4ec2608b1d$var$logoUrl","URL","resolve","href","$efd3ba4ec2608b1d$var$parseJwt","token","JSON","parse","atob","split","e","$efd3ba4ec2608b1d$var$loadView","view","root","document","getElementById","innerHTML","setTimeout","btn","addEventListener","email","value","trim","password","disabled","response","fetch","method","headers","body","stringify","result","json","ok","localStorage","setItem","accessToken","window","location","hash","alert","message","firstName","lastName","dob","city","accessLevel","parseInt","confirmPassword","user","getItem","removeItem","location1","category","forEach","id","classList","remove","style","display","add","alertBox","submitBtn","Authorization","then","res","data","container","Array","isArray","length","map","r","toUpperCase","Date","createdAt","toLocaleString","join","catch","err","console","error","report","userId","_id","querySelectorAll","button","reportId","getAttribute","confirm","reload","log","replace","parseJwt"],"version":3,"file":"RapidReach_frontend.fc91aeb0.js.map"}